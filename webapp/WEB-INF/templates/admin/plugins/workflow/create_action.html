<#include "macro_workflows.html" />
<@row>
	<@columns>
		<@box style='primary'>
			<@boxHeader titleLevel='h3' i18nTitleKey='workflow.create_action.title' />
			<@boxBody>
				<@tform action='jsp/admin/plugins/workflow/DoCreateAction.jsp?plugin_name=workflow'>
					<@fieldSet>
						<@input type='hidden' name='id_workflow' value=workflow.id/>
						<@formGroup labelFor='name' labelKey='#i18n{workflow.create_action.label_name}' helpKey='#i18n{workflow.create_action.label_name_comment}' mandatory=true>
							<@input type='text' name='name' maxlength=255 />
						</@formGroup>
						<@formGroup labelFor='description' labelKey='#i18n{workflow.create_action.label_description}' helpKey='#i18n{workflow.create_action.label_description_comment}' mandatory=true>
							<@input type='textarea' name='description' />
						</@formGroup>
						<@formGroup labelFor='id_state_before' labelKey='#i18n{workflow.create_action.label_state_before}' helpKey='#i18n{workflow.create_action.label_state_before_comment}' mandatory=true>
							<#list state_list as state>
								<@checkBox name='id_state_before' id='id_state_before${state.code}'  value='${state.code}' labelKey='${state.name}' />
							</#list>
						</@formGroup>
						<@formGroup labelFor='label_state_after' labelKey='#i18n{workflow.create_action.label_state_after}' helpKey='#i18n{workflow.create_action.label_state_after_comment}' mandatory=true>
							<@select name='id_state_after' items=state_list default_value='-1' />
						</@formGroup>
						<@formGroup labelFor='id_icon' labelKey='#i18n{workflow.create_action.label_icon}' helpKey='#i18n{workflow.create_action.label_icon_comment}'>
							<@radioIconList name='id_icon' default_value=-1 icons=icon_list />
						</@formGroup>
						<@formGroup helpKey='#i18n{workflow.create_action.label_mass_action_comment}'>
							<@checkBox name='is_mass_action' id='is_mass_action' value='1' labelKey='#i18n{workflow.create_action.label_mass_action}' />
						</@formGroup>
						<@formGroup helpKey='#i18n{workflow.create_action.label_automatic_comment}'>
							<@checkBox name='automatic' id='automatic' value='1' labelKey='#i18n{workflow.create_action.label_automatic}' />
						</@formGroup>
						<@formGroup>
							<h4>#i18n{workflow.create_action.label_link_actions}</h4>
							<p class="help-block">#i18n{workflow.create_action.label_link_actions_comment}</p>
							<em>#i18n{workflow.create_action.label_link_actions_example}</em>
						</@formGroup>
						<@formGroup labelFor='selected_linked_actions' labelKey='#i18n{workflow.create_action.label_available_linked_actions}'>
							<@select name='select_linked_actions' default_value='' multiple=10 size='sm' items=available_linked_actions />
						</@formGroup>
						<@formGroup rows=2>
							<@button type='submit' name='save' buttonIcon='check' title='#i18n{workflow.create_action.button_save}' />
							<@button type='submit' name='apply' buttonIcon='check-circle' title='#i18n{workflow.modify_action.button_apply}' />
							<@button type='submit' name='cancel' buttonIcon='times-circle' title='#i18n{workflow.create_action.button_cancel}' cancel=true />
						</@formGroup>
					</@fieldSet>
				</@tform>
			</@boxBody>
		</@box>
	</@columns>
</@row>